<div id="nerve-states-form">
  <form
    class="form-grid"
    hx-post="{% if state %}/nerve/states/{{ state.id }}{% else %}/nerve/states{% endif %}"
    hx-target="#nerve-states-table"
    hx-swap="outerHTML"
  >
    <label>
      Key
      <input type="text" name="key" value="{{ state.key if state else '' }}" required>
    </label>
    <label>
      Name
      <input type="text" name="name" value="{{ state.name if state else '' }}" required>
    </label>
    <label class="form-full">
      Description
      <textarea name="description" rows="3">{{ state.description if state else '' }}</textarea>
    </label>
    <label>
      Terminal
      <input type="checkbox" name="is_terminal" {% if state and state.is_terminal %}checked{% endif %}>
    </label>
    <label>
      Enabled
      <input type="checkbox" name="is_enabled" {% if state and state.is_enabled %}checked{% elif not state %}checked{% endif %}>
    </label>
    <div class="form-actions form-full">
      <button type="submit">{% if state %}Save state{% else %}Create state{% endif %}</button>
    </div>
  </form>
</div>
