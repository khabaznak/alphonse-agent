<div id="settings-form">
  <form
    class="form-grid"
    hx-post="{% if setting %}/settings/{{ setting.id }}{% else %}/settings{% endif %}"
    hx-target="#settings-table"
    hx-swap="outerHTML"
  >
    <label>
      Name
      <input type="text" name="name" value="{{ setting.name if setting else '' }}" required>
    </label>
    <label>
      Description
      <input type="text" name="description" value="{{ setting.description if setting else '' }}">
    </label>
    <label class="form-full">
      JSON Schema (optional)
      <textarea name="schema" rows="4">{{ setting.schema if setting else '' }}</textarea>
    </label>
    <label class="form-full">
      Config (JSON)
      <textarea name="config" rows="6">{{ setting.config if setting else '{}' }}</textarea>
    </label>
    <div class="form-actions form-full">
      <button type="submit">{% if setting %}Save setting{% else %}Create setting{% endif %}</button>
    </div>
  </form>
</div>
